#This docker file is designed to be build from outside the mstar parent directory
FROM bedrock:latest as base

#dev directory
WORKDIR /usr/local/src/mstar/scripts/bedrock_encoder_decoder/src/

#update to install packages
RUN apt-get update
RUN apt-get install -y psmisc black vim tmux git curl python-is-python3 npm
RUN npm install -g tldr

#install my dotfiles
COPY mstar/scripts/bedrock_encoder_decoder/.dotfiles/ /usr/local/.dotfiles/
RUN rm ~/.bashrc  && cd /usr/local/.dotfiles && bash install

#git credential setup
RUN git config --global user.email colehawk@amazon.com && git config --global user.name colehawk && git config --global credential.helper store

#install git completion, requires curl
RUN curl https://raw.githubusercontent.com/git/git/master/contrib/completion/git-completion.bash -o /etc/bash_completion.d/git

RUN pip install awscli black 

